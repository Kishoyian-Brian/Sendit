<div class="min-h-screen bg-gray-100 flex flex-col items-center justify-center">
  <div class="w-full max-w-md bg-white rounded-lg shadow-lg p-8 mt-12">
    <h2 class="text-2xl font-bold mb-6 text-center">Forgot Password</h2>
    
    <!-- Step 1: Email Input -->
    <div *ngIf="currentStep === 'email'">
      <form (ngSubmit)="sendOTP()" class="space-y-6">
        <div>
          <label class="block text-gray-700 font-semibold mb-1">Email</label>
          <input [(ngModel)]="email" name="email" type="email" required placeholder="Enter your email"
            class="w-full px-4 py-3 border border-gray-300 rounded outline-none focus:ring-2 focus:ring-[#BA0C2F] text-gray-900 bg-white" />
        </div>
        <button type="submit" [disabled]="isLoading" class="w-full bg-[#BA0C2F] hover:bg-[#a40a29] disabled:bg-gray-400 disabled:cursor-not-allowed transition py-3 font-bold rounded text-white">
          <span *ngIf="!isLoading">Send OTP</span>
          <span *ngIf="isLoading">Sending...</span>
        </button>
      </form>
    </div>

    <!-- Step 2: OTP Verification -->
    <div *ngIf="currentStep === 'otp'">
      <form (ngSubmit)="verifyOTP()" class="space-y-6">
        <div>
          <label class="block text-gray-700 font-semibold mb-1">OTP Code</label>
          <input [(ngModel)]="otp" name="otp" type="text" required placeholder="Enter 6-digit OTP"
            class="w-full px-4 py-3 border border-gray-300 rounded outline-none focus:ring-2 focus:ring-[#BA0C2F] text-gray-900 bg-white" maxlength="6" />
        </div>
        <button type="submit" [disabled]="isLoading" class="w-full bg-[#BA0C2F] hover:bg-[#a40a29] disabled:bg-gray-400 disabled:cursor-not-allowed transition py-3 font-bold rounded text-white">
          <span *ngIf="!isLoading">Verify OTP</span>
          <span *ngIf="isLoading">Verifying...</span>
        </button>
      </form>
    </div>

    <!-- Step 3: New Password -->
    <div *ngIf="currentStep === 'password'">
      <form (ngSubmit)="resetPassword()" class="space-y-6">
        <div>
          <label class="block text-gray-700 font-semibold mb-1">New Password</label>
          <input [(ngModel)]="newPassword" name="newPassword" type="password" required placeholder="Enter new password"
            class="w-full px-4 py-3 border border-gray-300 rounded outline-none focus:ring-2 focus:ring-[#BA0C2F] text-gray-900 bg-white" />
        </div>
        <div>
          <label class="block text-gray-700 font-semibold mb-1">Confirm Password</label>
          <input [(ngModel)]="confirmPassword" name="confirmPassword" type="password" required placeholder="Confirm new password"
            class="w-full px-4 py-3 border border-gray-300 rounded outline-none focus:ring-2 focus:ring-[#BA0C2F] text-gray-900 bg-white" />
        </div>
        <button type="submit" [disabled]="isLoading" class="w-full bg-[#BA0C2F] hover:bg-[#a40a29] disabled:bg-gray-400 disabled:cursor-not-allowed transition py-3 font-bold rounded text-white">
          <span *ngIf="!isLoading">Reset Password</span>
          <span *ngIf="isLoading">Resetting...</span>
        </button>
      </form>
    </div>

    <!-- Back Button -->
    <div class="mt-4 text-center">
      <button *ngIf="currentStep !== 'email'" (click)="goBack()" class="text-[#BA0C2F] hover:text-[#a40a29] font-semibold transition mr-4">
        ← Back
      </button>
      <button (click)="goToLogin()" class="text-[#BA0C2F] hover:text-[#a40a29] font-semibold transition">
        ← Back to Login
      </button>
    </div>
    <app-toast #toast></app-toast>
  </div>
</div> 